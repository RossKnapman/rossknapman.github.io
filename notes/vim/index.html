<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    
    
    <title>Ross Knapman | Vim</title>
</head><body>
        <div class="wrapper">
<nav id="sidebar" class="navbar active d-lg-block bg-white">
    <div id="close-sidebar">
        <button type="button" class="header-button" data-feather="chevrons-left"></button>
    </div>
    <div class="position-sticky">
        <div class="list-group list-group-flush mx-3 mt-4">
            
            
                <a href="../../" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="home"></i> 
                    
                    
                    Home
                </a>
            
                <a href="../../posts/" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="pen-tool"></i> 
                    
                    
                    Blog
                </a>
            
                <a href="../../tags/" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="tag"></i> 
                    
                    
                    Tags
                </a>
            
                <a href="../../publications" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="book"></i> 
                    
                    
                    Publications
                </a>
            
                <a href="../../notes/" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="info"></i> 
                    
                    
                    Notes
                </a>
            
                <a href="../../misc/" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    
                    
                    <i data-feather="archive"></i> 
                    
                    
                    Misc
                </a>
            
        </div>
        <div class="social-media-buttons social-media-buttons-sidebar pt-5 text-center"><a href="../../download/CV.pdf"><i data-feather="file-text" class="header-button"></i></a>
<a href="https://www.linkedin.com/in/rossknapman97/"><i data-feather="linkedin" class="header-button"></i></a>
<a href="https://github.com/RossKnapman/"><i data-feather="github" class="header-button"></i></a></div>
    </div>
</nav><div id="content" class="container-fluid"><nav class="navbar navbar-light">
    <div>
    <div id="open-sidebar">
        <button type="button" class="header-button" data-feather="menu"></button>
    </div>
    <div class="pl-4">
        <a href="https://www.rossknapman.com"><h1 id="site-title">Ross Knapman</h1></a>
    </div>
    </div>
    <div class="social-media-buttons social-media-buttons-header"><a href="../../download/CV.pdf"><i data-feather="file-text" class="header-button"></i></a>
<a href="https://www.linkedin.com/in/rossknapman97/"><i data-feather="linkedin" class="header-button"></i></a>
<a href="https://github.com/RossKnapman/"><i data-feather="github" class="header-button"></i></a></div>
</nav>
<h2 class="display-6">Vim</h2>

<div id="outline-container-headline-1" class="outline-4">
<h4 id="headline-1">
Find and Replace
</h4>
<div id="outline-text-headline-1" class="outline-text-4">
<p>Search and replace globally: <code>:%s/foo/bar/g</code></p>
<p>
<code>:s</code> is the command to substitute, <code>%</code> means to apply within the current file, rather than just the current line, <code>g</code> means global, i.e. it replaces all instances, not just the first</p>
<p>
To find and replace regex whilst keeping part of a pattern, e.g. if you want to replace #1 #2 #3 by #1 \, #2 \, #3 \n, then need to run</p>
<p>
<code>:s/\d/\1 \\,/g</code></p>
<p>
where the brackets store the variable \d, which is accessed by \1</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-4">
<h4 id="headline-2">
Side-By-Side Comparison of Two Files
</h4>
<div id="outline-text-headline-2" class="outline-text-4">
<p><code>vimdiff &lt;FILE1&gt; &lt;FILE2&gt;</code></p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-4">
<h4 id="headline-3">
Macros
</h4>
<div id="outline-text-headline-3" class="outline-text-4">
<p><code>:%norm! @a</code> to apply macro a to all lines</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-4">
<h4 id="headline-4">
VimTeX and Inverse Search
</h4>
<div id="outline-text-headline-4" class="outline-text-4">
<div id="outline-container-headline-5" class="outline-5">
<h5 id="headline-5">
Allowing Backwards Search with VimTeX on Mac
</h5>
<div id="outline-text-headline-5" class="outline-text-5">
<p>Start vim with <code>vim --servername &lt;some name&gt;</code></p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-5">
<h5 id="headline-6">
Neovim + VimTeX + Zathura
</h5>
<div id="outline-text-headline-6" class="outline-text-5">
<p>Install <code>neovim-remote</code> using <code>pip3 install neovim-remote</code>.</p>
<p>
Set <code>$NVIM_LISTEN_ADDRESS=/tmp/nvimsocket</code> in <code>.bashrc</code>, <code>.zshrc</code>, etc. for whichever shell you are using (I think Zathura takes care of this for you, but this may be necessary for other PDF viewers). Then when you start a Neovim instance, you can call commands in that Neovim session from another terminal window using e.g. <code>nvr --remote file1</code> if you want to open file1.</p>
<p>
Ensure <code>synctex</code> is enabled, e.g. by putting <code>\synctex=1</code> in your <code>.tex</code> document.</p>
<p>
In <code>\~/.config/nvim/init.vim</code>, put</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>let g:vimtex_view_method = &#39;zathura&#39;
</span></span><span style="display:flex;"><span>let g:latex_view_general_viewer = &#39;zathura&#39;
</span></span><span style="display:flex;"><span>let g:vimtex_compiler_progname = &#39;nvr&#39;</span></span></code></pre></div>
</div>
<p>
In <code>\~/.config/zathura/zathurarc</code>, put</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>set synctex true
</span></span><span style="display:flex;"><span>set synctex-editor-command &#34;nvr --remote-silent +%{line} %{input}&#34;</span></span></code></pre></div>
</div>
<p>
Then you should be able to Ctrl-Click on a part of the file in Zathura, and Neovim will go to that point in the <code>.tex</code> file. Note that this will only work after a change has been made to the file, i.e. it won&#39;t work if you just open the file and try to reverse search; you need to make a change and save it first.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-4">
<h4 id="headline-7">
Vim Gives an Error Message Relating to UltiSnips and Python When a Key is Pressed
</h4>
<div id="outline-text-headline-7" class="outline-text-4">
<p>Probably using vi instead of vim. Change the editor of whatever youâ€™re doing to vim, or need to run <code>python3 -m pip install --user --upgrade pynvim</code>.</p>
</div>
</div>

<script src="../../js/jquery-3.6.0.min.js"></script>
<script src="../../js/sidebar.js"></script>
<script src="../../js/feather.min.js"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>feather.replace()</script></div><footer class="footer">
    <div class="container text-center">
        &copy; 2023 Ross Knapman
        | Website built using <a href="https://gohugo.io/">Hugo</a> and <a href="https://getbootstrap.com/">Bootstrap</a>
        with my <a href="https://github.com/RossKnapman/HugoTheme">own theme</a>.
    </div>
</footer>
            <div id="overlay"></div>
        </div>
    </body>
</html>
